---
import magnolia from '@/lib/magnolia'
import Image from '@/components/Image'

interface Item {
  icon: string
  title: string
  description: string
}

const currentLocale = Astro.currentLocale!

const [{ title, description }, items] = await Promise.all([
  magnolia.get('/pages/partners/benefits', { lang: currentLocale }),
  magnolia.get<Item[]>('/pages/partners/benefits/items/@nodes', {
    lang: currentLocale
  })
])
---

<section class="max-w-262 mt-24 mb-20 mx-auto px-5 sm:px-10 lg:px-13">
  <div class="text-center">
    <h2
      class="font-bold text-2xl/tight text-balance text-orange-600 xl:text-4xl"
    >
      {title}
    </h2>
    <p class="mt-4 text-lg xl:text-xl/snug">{description}</p>
  </div>
  <div class="mt-12 grid gap-8 md:grid-cols-2">
    {
      items.map(({ icon, title, description }) => (
        <article class="p-7 rounded-lg bg-red-100 lg:p-9">
          <Image class="size-11 object-contain" src={icon} />
          <h3
            class:list={[
              'mt-4 font-bold text-xl/tight text-pretty text-orange-600',
              'uppercase'
            ]}
          >
            {title}
          </h3>
          <p class="mt-1 text-lg text-pretty">{description}</p>
        </article>
      ))
    }
  </div>
  <a
    class:list={[
      'mt-15 w-fit mx-auto py-2.5 px-5 block rounded bg-orange-600',
      'text-lg/none text-white transition-colors hover:bg-red-800 xl:text-xl'
    ]}
    href="#form"
  >
    {Astro.locals.t['lets_grow_together']}
  </a>
</section>
